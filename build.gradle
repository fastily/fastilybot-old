plugins {
    id 'java'
    id 'eclipse'
    id 'application'
}

repositories {
  mavenLocal()
  jcenter()
}



mainClassName = "fastilybot.BMgr"

dependencies {
  compile 'info.picocli:picocli:3.5.2'
  compile 'fastily:wp-toolbox:0.0.2'
}

task doDist(type: Jar) {
  baseName = "BMgr"

  from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  }

  manifest {
    attributes 'Main-Class': 'fastilybot.BMgr'
  }

  exclude "META-INF/*.SF", "**/LICENSE*", "**/NOTICE*", "**/maven/**"

  with jar
}

wrapper {
    gradleVersion = '4.10'
}