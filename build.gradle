apply plugin: 'eclipse'

subprojects {
    apply plugin: 'java'

    repositories {
      mavenLocal()
      jcenter()
    }

    dependencies {
      compile "info.picocli:picocli:2.2.1"
      compile "fastily:jwiki:1.5.1"
    }
}

project(':fastilybot-enwp') {
    apply plugin: 'application'

    mainClassName = "enwp.BMgr"

    dependencies {
        compile project(':fastilybot-shared')
    }


    task doDist(type: Jar) {
      baseName = "BMgr"

      from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
      }

      manifest {
        attributes 'Main-Class': 'enwp.BMgr'
      }
      
      exclude "META-INF/*.SF", "**/LICENSE*", "**/NOTICE*", "**/maven/**"

      with jar
    }
}

project(':fastilybot-tools') {
    dependencies {
        compile project(':fastilybot-shared')
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.4.1'
}